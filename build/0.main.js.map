{"version":3,"sources":["../../src/pages/track-detail/track-detail.module.ts","../../src/pipes/time-pipes/ms-to-minutes.ts","../../src/pipes/time-pipes/time-pipes.module.ts","../../src/pages/track-detail/track-detail.ts"],"names":[],"mappings":"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","file":"0.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TrackDetailPage } from './track-detail';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TimePipeModule } from '../../pipes/time-pipes/time-pipes.module';\n\n@NgModule({\n  declarations: [TrackDetailPage],\n  imports: [\n    TimePipeModule,\n    IonicPageModule.forChild(TrackDetailPage)\n  ],\n  entryComponents: [\n    TrackDetailPage\n  ]\n})\nexport class TrackDetailPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/track-detail/track-detail.module.ts","import { Pipe } from '@angular/core';\n@Pipe({\n  name: 'msToMinutes'\n})\nexport class MsToMinutes {\n  transform(value?: number) {\n    return this.durationFromMsHelper(value);\n  }\n  pad2(num) {\n    if (num <= 99) {\n      num = ('0' + num).slice(-2);\n    }\n    return num;\n  }\n  durationFromMsHelper(ms) {\n    // if (typeof ms != 'number') {\n    //   return '';\n    // }\n    let x: number = ms / 1000;\n    let seconds: number = this.pad2(Math.floor(x % 60));\n    x /= 60;\n    let minutes: number = this.pad2(Math.floor(x % 60));\n    x /= 60;\n    let hours: number = Math.floor(x % 24);\n    let newHours = hours ? this.pad2(hours) + ':' : '';\n    return newHours + minutes + ':' + seconds;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/time-pipes/ms-to-minutes.ts","import { NgModule } from '@angular/core';\nimport { MsToMinutes } from './ms-to-minutes';\n\n@NgModule({\n  declarations: [MsToMinutes],\n  exports: [MsToMinutes]\n})\nexport class TimePipeModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/time-pipes/time-pipes.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { NavController, NavParams, Events, ToastController, IonicPage } from 'ionic-angular';\nimport { NativeMedia } from '../../providers/native-media/native-media';\nimport { Storage } from '@ionic/storage';\n\n@IonicPage({\n  segment: 'detail/:id'\n})\n@Component({\n  selector: 'page-track-detail',\n  templateUrl: 'track-detail.html',\n})\nexport class TrackDetailPage {\n  track = this.params.get('track');\n  progress = 0;\n  @ViewChild('player') audio;\n  ifPlaying = false;\n  isFavorite = false;\n  favoriteIcon = 'star-outline';\n  constructor(\n    public nav: NavController,\n    public params: NavParams,\n    public events: Events,\n    public nativeMedia: NativeMedia,\n    public storage: Storage,\n    public toastCtrl: ToastController\n  ) {\n    this.storage.get(this.track.id).then((res) => {\n      if (!res) {\n        this.isFavorite = false;\n        this.favoriteIcon = 'star-outline';\n      } else {\n        this.isFavorite = true;\n        this.favoriteIcon = 'star';\n      }\n    });\n  }\n  ionViewWillLeave() {\n    this.stopSong();\n  }\n  toggleSong() {\n    if (this.ifPlaying) {\n      this.stopSong();\n    } else {\n      this.playSong();\n    }\n  }\n  playSong() {\n    this.nativeMedia.createMediaControls(this.track);\n    this.ifPlaying = true;\n    this.audio.nativeElement.play();\n  }\n  stopSong() {\n    this.nativeMedia.destroy();\n    this.ifPlaying = false;\n    this.audio.nativeElement.currentTime = 0;\n    this.audio.nativeElement.pause();\n  }\n  setProgress() {\n    this.progress = Math.round((this.audio.nativeElement.currentTime / this.audio.nativeElement.duration) * 100);\n  }\n  playerEnded() {\n    this.ifPlaying = false;\n    this.nativeMedia.destroy();\n    this.audio.nativeElement.currentTime = 0;\n  }\n  toggleFavorites() {\n    let addedToast = {\n      message: 'Song added to Favorites',\n      duration: 3000,\n      position: 'bottom'\n    };\n    let removedToast = {\n      message: 'Song remove to Favorites',\n      duration: 3000,\n      position: 'bottom'\n    };\n    this.storage.get(this.track.id).then((res) => {\n      if (!res) {\n        let toast = this.toastCtrl.create(addedToast);\n        toast.present();\n        this.isFavorite = true;\n        this.favoriteIcon = 'star';\n        this.storage.set(this.track.id, this.track);\n      } else {\n        let toast = this.toastCtrl.create(removedToast);\n        toast.present();\n        this.storage.remove(this.track.id);\n        this.isFavorite = false;\n        this.favoriteIcon = 'star-outline';\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/track-detail/track-detail.ts"],"sourceRoot":""}